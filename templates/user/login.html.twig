{% extends 'layouts/frontend.html.twig' %}

{% block body %}
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
        {{  alert("You are logged in already!", "info")|raw }}
        <a class="btn btn-primary" href="{{ path('logout') }}">Click here to logout</a>
    {% else %}
        <form action="{{ path('user_login') }}" method="post">
            <label for="username">
                Username:
            </label>
            <input type="text"
                   id="username"
                   class="form-control"
                   name="_username"
                   value="{{ last_username }}" />

            <label for="password">
                Password:
            </label>
            <input type="password"
                   id="password"
                   class="form-control"
                   name="_password" />

            {#
                If you want to control the URL the user
                is redirected to on success (more details below)
                <input type="hidden" name="_target_path" value="/account" />
            #}
            <br/>
            <button type="submit"
                    class="btn btn-primary btn-block">
                login
            </button>
        </form>
    {% endif %}
{% endblock %}